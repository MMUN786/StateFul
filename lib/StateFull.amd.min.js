define("StateFull.amd",[],(()=>(()=>{"use strict";var t={80:()=>{var t=/\{\{(.*?)\}\}/g,e=function(t){var e;return null==t||null==t.replace||null==(e=t.replace(/{/g,""))||null==e.replace?void 0:e.replace(/}/g,"")},n=function(n){return function(e){var n=null==e||null==e.match?void 0:e.match(t);return Array.from(new Set(n))}(n).map(e)},r=function(t,e){return JSON.stringify(t)!==JSON.stringify(e)};function i(){return i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i.apply(this,arguments)}function o(t,e,n){a(t,e),e.set(t,n)}function a(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function u(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,f(t,e,"get"))}function l(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function c(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,f(t,e,"set"),n),n}function f(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var s=new WeakMap,v=new WeakMap,h=new WeakMap,p=new WeakSet;function d(e){if(u(this,s)){var n=u(this,v).replace(t,(function(t,n){return e[n]||""}));n!==u(this,s).nodeValue&&(u(this,s).nodeValue=n)}}const w=function(){function t(t){var e;a(this,e=p),e.add(this),o(this,s,{writable:!0,value:void 0}),o(this,v,{writable:!0,value:void 0}),o(this,h,{writable:!0,value:{}}),c(this,s,t),c(this,v,(null==t?void 0:t.nodeValue)||""),l(this,p,d).call(this,u(this,h))}return t.prototype.update=function(t){var e=i({},u(this,h),t);r(u(this,h),t)&&(l(this,p,d).call(this,e),c(this,h,e))},t}();function y(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function g(t,e){var n=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}(t,e);return function(t,e){return e.get?e.get.call(t):e.value}(t,n)}var m=new WeakMap,b=new WeakMap,E=function(){function t(t){var e=this;y(this,m,{writable:!0,value:[]}),y(this,b,{writable:!0,value:function(t){t.getAttributeNames().forEach((function(r){var i=t.getAttribute(r),o=n(i);o.length&&g(e,m).push({name:"attr",variables:o,node:new w(t.getAttributeNode(r))})})),t.childNodes.forEach((function(t){if(t.nodeValue){var r=n(t.nodeValue);r.length&&g(e,m).push({name:"element",variables:r,node:new w(t)})}}))}}),g(this,b).call(this,t)}return t.prototype.rander=function(t,e){g(this,m).forEach((function(n){var r=n.node,i=n.variables.map((function(e){return t[e]?e:void 0})).filter(Boolean);i.length&&(i=i.map((function(n){return t[n]!==e[n]?n:void 0})).filter(Boolean),i.length&&(i=i.reduce((function(e,n){return e[n]=t[n],e}),{}),r.update(i)))}))},t}();const S=E;function O(){return O=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O.apply(this,arguments)}var j=function(){console.error("Element is destroyed already")};window.StateFullElements=function(t){var e={},n={},i=Array.from(function(t,e){if(void 0===e&&(e=!1),t instanceof HTMLElement)return t;var n,r,i,o=e?(n=t,void 0===r&&(r=document),null==(i=r)||null==i.querySelectorAll?void 0:i.querySelectorAll(n)):function(t,e){var n;return void 0===e&&(e=document),null==(n=e)||null==n.querySelector?void 0:n.querySelector(t)}(t);if("string"==typeof t&&o)return o;throw new Error("Element is not valid")}(t,!0));i=i.map((function(t){return new S(t)}));var o=function(t){var o,a,u=O({},e,t);r(e,t)&&(i.forEach((function(n){return n.rander(t,e)})),null==(o=(a=n).update)||o.call(a,u,e),e=u)};return{state:function(t){var n;return null!==(n=t)&&n&&"object"==typeof n&&o(t),e},on:function(t,e){return n[t.toString().toLowerCase()]=e},destroy:function(){e=void 0,i=void 0,n=void 0,o=j}}}}},e={};return function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}(80)})().default));
//# sourceMappingURL=StateFull.amd.min.js.map