!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("StateFull",[],e):"object"==typeof exports?exports.StateFull=e():t.StateFull=e()}("undefined"!=typeof self?self:this,(function(){return(()=>{"use strict";var t={687:()=>{var t=function(t,e){if(void 0===e&&(e=!1),t instanceof HTMLElement)return t;var n,r,i,o=e?(n=t,void 0===r&&(r=document),null==(i=r)||null==i.querySelectorAll?void 0:i.querySelectorAll(n)):function(t,e){var n;return void 0===e&&(e=document),null==(n=e)||null==n.querySelector?void 0:n.querySelector(t)}(t);if("string"==typeof t&&o)return o;throw new Error("Element is not valid")},e=/{{.+?}}/g,n=function(t){var e;return null==t||null==t.replace||null==(e=t.replace(/{/g,""))||null==e.replace?void 0:e.replace(/}/g,"")},r=function(t){return function(t){var n=null==t||null==t.match?void 0:t.match(e);return Array.from(new Set(n))}(t).map(n)},i=function(t,e){return JSON.stringify(t)!==JSON.stringify(e)},o=function(t){return null!==t&&t&&"object"==typeof t};function a(t){for(var e in t){var n=t[e];null!=n&&"object"==typeof n?a(n):delete t[e]}t.__proto__=null}function u(){return u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u.apply(this,arguments)}function l(t,e,n){c(t,e),e.set(t,n)}function c(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function f(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,p(t,e,"get"))}function s(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function h(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,p(t,e,"set"),n),n}function p(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var v=new WeakMap,d=new WeakMap,w=new WeakMap,y=new WeakMap,m=new WeakSet,g=function(){function t(t,e){var n;c(this,n=m),n.add(this),l(this,v,{writable:!0,value:void 0}),l(this,d,{writable:!0,value:void 0}),l(this,w,{writable:!0,value:void 0}),l(this,y,{writable:!0,value:{}}),h(this,v,t),h(this,w,(null==t?void 0:t.nodeValue)||""),h(this,d,e),s(this,m,b).call(this,f(this,y))}return t.prototype.update=function(t){var e=u({},f(this,y),t);i(f(this,y),t)&&(s(this,m,b).call(this,e),h(this,y,e))},t}();function b(t){if(f(this,v)){var e=f(this,w).replace(/\{\{(.*?)\}\}/g,(function(e,n){return t[n]||""}));e!==f(this,v).nodeValue&&(f(this,v).nodeValue=e)}}const E=function(t,e){return new g(t,e)};function S(){return S=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S.apply(this,arguments)}function j(t,e){k(t,e),e.add(t)}function T(t,e,n){k(t,e),e.set(t,n)}function k(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function W(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function M(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,A(t,e,"get"))}function x(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,A(t,e,"set"),n),n}function A(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var O=new WeakMap,N=new WeakMap,V=new WeakMap,q=new WeakSet,_=new WeakSet,z=function(){function t(t){j(this,_),j(this,q),T(this,O,{writable:!0,value:void 0}),T(this,N,{writable:!0,value:{}}),T(this,V,{writable:!0,value:{}}),x(this,O,t),x(this,V,J(M(this,O)))}var e=t.prototype;return e.state=function(t){return o(t)&&W(this,q,C).call(this,t),M(this,N)},e.destory=function(){a(this)},t}();function C(t){var e=S({},M(this,N),t);if(i(M(this,N),t))return W(this,_,F).call(this,t),x(this,N,e),this}function F(t){var e=this;M(this,V).forEach((function(n){var r=n.node,i=n.variables.map((function(e){return t[e]?e:void 0})).filter(Boolean);i.length&&(i=i.map((function(n){return t[n]!==M(e,N)[n]?n:void 0})).filter(Boolean),i.length&&(i=i.reduce((function(e,n){return e[n]=t[n],e}),{}),r.update(i)))}))}const B=function(e){return new z(t(e))};var J=function(t){var e=[];return t.getAttributeNames().forEach((function(n){var i=t.getAttribute(n),o=r(i);o.length&&e.push({name:"attr",variables:o,node:E(t.getAttributeNode(n))})})),t.childNodes.forEach((function(t){if(t.nodeValue){var n=r(t.nodeValue);n.length&&e.push({name:"element",variables:n,node:E(t)})}})),e};function P(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,H(t,e,"get"))}function H(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var L=new WeakMap,D=function(){function t(t){var e,n,r;r={writable:!0,value:[]},function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e=this,n=L),n.set(e,r),function(t,e,n){(function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}})(t,H(t,e,"set"),n)}(this,L,Array.from(t).map(B))}var e=t.prototype;return e.state=function(t){return o(t)&&P(this,L).forEach((function(e){return e.state(t)})),P(this,L)[0].state()},e.destory=function(){P(this,L).forEach((function(t){return t.destory()})),a(this)},t}();document.elementSelector=B,document.elementSelectorAll=function(e){return new D(t(e,!0))}}},e={};return function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}(687)})().default}));
//# sourceMappingURL=StateFull.min.js.map