!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("StateFull",[],e):"object"==typeof exports?exports.StateFull=e():t.StateFull=e()}("undefined"!=typeof self?self:this,(function(){return(()=>{"use strict";var t={80:()=>{var t=/\{\{(.*?)\}\}/g,e=function(t){var e;return null==t||null==t.replace||null==(e=t.replace(/{/g,""))||null==e.replace?void 0:e.replace(/}/g,"")},n=function(n){return function(e){var n=null==e||null==e.match?void 0:e.match(t);return Array.from(new Set(n))}(n).map(e)},r=function(t,e){return JSON.stringify(t)!==JSON.stringify(e)};function o(){return o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o.apply(this,arguments)}function i(t,e,n){a(t,e),e.set(t,n)}function a(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function u(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,f(t,e,"get"))}function l(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function c(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,f(t,e,"set"),n),n}function f(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var s=new WeakMap,p=new WeakMap,v=new WeakMap,d=new WeakSet;function h(e){if(u(this,s)){var n=u(this,p).replace(t,(function(t,n){return e[n]||""}));n!==u(this,s).nodeValue&&(u(this,s).nodeValue=n)}}const w=function(){function t(t){var e;a(this,e=d),e.add(this),i(this,s,{writable:!0,value:void 0}),i(this,p,{writable:!0,value:void 0}),i(this,v,{writable:!0,value:{}}),c(this,s,t),c(this,p,(null==t?void 0:t.nodeValue)||""),l(this,d,h).call(this,u(this,v))}return t.prototype.update=function(t){var e=o({},u(this,v),t);r(u(this,v),t)&&(l(this,d,h).call(this,e),c(this,v,e))},t}();function y(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function m(t,e){var n=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}(t,e);return function(t,e){return e.get?e.get.call(t):e.value}(t,n)}var g=new WeakMap,b=new WeakMap,E=function(){function t(t){var e=this;y(this,g,{writable:!0,value:[]}),y(this,b,{writable:!0,value:function(t){t.getAttributeNames().forEach((function(r){var o=t.getAttribute(r),i=n(o);i.length&&m(e,g).push({name:"attr",variables:i,node:new w(t.getAttributeNode(r))})})),t.childNodes.forEach((function(t){if(t.nodeValue){var r=n(t.nodeValue);r.length&&m(e,g).push({name:"element",variables:r,node:new w(t)})}}))}}),m(this,b).call(this,t)}return t.prototype.rander=function(t,e){m(this,g).forEach((function(n){var r=n.node,o=n.variables.map((function(e){return t[e]?e:void 0})).filter(Boolean);o.length&&(o=o.map((function(n){return t[n]!==e[n]?n:void 0})).filter(Boolean),o.length&&(o=o.reduce((function(e,n){return e[n]=t[n],e}),{}),r.update(o)))}))},t}();const S=E;function j(){return j=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j.apply(this,arguments)}var x=function(){console.error("Element is destroyed already")};window.StateFullElements=function(t){var e={},n={},o=Array.from(function(t,e){if(void 0===e&&(e=!1),t instanceof HTMLElement)return t;var n,r,o,i=e?(n=t,void 0===r&&(r=document),null==(o=r)||null==o.querySelectorAll?void 0:o.querySelectorAll(n)):function(t,e){var n;return void 0===e&&(e=document),null==(n=e)||null==n.querySelector?void 0:n.querySelector(t)}(t);if("string"==typeof t&&i)return i;throw new Error("Element is not valid")}(t,!0));o=o.map((function(t){return new S(t)}));var i=function(t){var i,a,u=j({},e,t);r(e,t)&&(o.forEach((function(n){return n.rander(t,e)})),null==(i=(a=n).update)||i.call(a,u,e),e=u)};return{state:function(t){var n;return null!==(n=t)&&n&&"object"==typeof n&&i(t),e},on:function(t,e){return n[t.toString().toLowerCase()]=e},destroy:function(){e=void 0,o=void 0,n=void 0,i=x}}}}},e={};return function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}(80)})().default}));
//# sourceMappingURL=StateFull.min.js.map