{"version":3,"sources":["webpack://StateFull.amd/./src/Utils/DOM.ts","webpack://StateFull.amd/./src/Utils/helper.ts","webpack://StateFull.amd/./src/Node/index.ts","webpack://StateFull.amd/./src/Selector/Element/Element.ts","webpack://StateFull.amd/./src/Selector/Element/ElementCollection.ts","webpack://StateFull.amd/./src/index.ts","webpack://StateFull.amd/webpack/bootstrap","webpack://StateFull.amd/webpack/startup"],"names":["returnElement","element","multiple","HTMLElement","query","parentElement","ele","document","querySelectorAll","querySelector","Q","Error","regex","removBracket","string","replace","variable","match","Array","from","Set","extractVariables","map","isChanged","Obj1","Obj2","JSON","stringify","isObject","obj","destroy","prop","property","__proto__","StateFullNode","node","parantNode","this","nodeValue","update","newState","State","newValue","_","key","Element","getDynamicNode","state","destory","forEach","includes","variables","undefined","filter","Boolean","length","reduce","prev","next","QueryORElement","nodes","getAttributeNames","attr","attrValue","getAttribute","push","name","createStateFullNode","getAttributeNode","childNodes","textNode","ElementCollection","elements","elementSelector","elementSelectorAll","__webpack_module_cache__","__webpack_require__","moduleId","exports","module","__webpack_modules__"],"mappings":"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","file":"StateFull.amd.min.js","sourcesContent":["// Dom Slector\ninterface ElementSelector {\n  (query: string, parentElement?: ParentNode): HTMLElement | null;\n}\nexport const Q: ElementSelector = (query, parentElement = document) =>\n  parentElement?.querySelector?.(query);\n\ninterface ElementsSelector {\n  (query: string, parentElement?: ParentNode): NodeList;\n}\nexport const QA: ElementsSelector = (query, parentElement = document) =>\n  parentElement?.querySelectorAll?.(query);\n\n// Class List\ninterface ClassMethodForElement {\n  (\n    element: HTMLElement | null,\n    method?: \"add\" | \"remove\" | \"contains\" | \"toggle\",\n    className?: string\n  ): Boolean | void;\n}\nexport const C: ClassMethodForElement = (\n  element = document.body,\n  method = \"toggle\",\n  className = \"active\"\n) => element?.classList?.[method]?.(className);\n\ninterface ClassMethodForElements {\n  (\n    element: [] | NodeList | null,\n    method?: \"add\" | \"remove\" | \"contains\" | \"toggle\",\n    className?: string\n  ): Boolean | void;\n}\nexport const CA: ClassMethodForElements = (\n  element = [],\n  method = \"toggle\",\n  className = \"active\"\n) => element?.forEach?.((ele: any) => C(ele, method, className));\n\n// // Find DOM Element\n\ninterface FindeElement {\n  (element: HTMLElement, query: string): HTMLElement | null;\n}\n\nexport const F: FindeElement = (element = document.body, query = \"div\") =>\n  element?.closest?.(query);\n\n/* Dom Helper Function */\nexport const returnElement = (\n  element: string | any,\n  multiple = false\n): HTMLElement | any => {\n  if (element instanceof HTMLElement) return element;\n  const ele = multiple ? QA(element) : Q(element);\n  if (typeof element === \"string\" && ele) return ele;\n  else throw new Error(\"Element is not valid\");\n};\n","const regex = /{{.+?}}/g;\n\nexport const extractVariables = (\n  string: string | null | undefined\n): string[] => {\n  let variable = string?.match?.(regex);\n  variable = Array.from(new Set(variable));\n  return variable;\n};\n\nexport const removBracket = (string: string): string =>\n  string?.replace?.(/{/g, \"\")?.replace?.(/}/g, \"\");\n\nexport const variable = (string: string | null | undefined): string[] =>\n  extractVariables(string).map(removBracket);\n\nexport const isChanged = (Obj1: Object, Obj2: Object): boolean =>\n  JSON.stringify(Obj1) !== JSON.stringify(Obj2);\n\nexport const isObject = (obj: any): boolean =>\n  obj !== null && obj && typeof obj === \"object\";\n\nexport function destroy(obj) {\n  for (var prop in obj) {\n    var property = obj[prop];\n    if (property != null && typeof property == \"object\") {\n      destroy(property);\n    } else {\n      delete obj[prop];\n    }\n  }\n  obj.__proto__ = null;\n}\n","import { isChanged } from \"../Utils/helper.ts\";\n\nclass StateFullNode {\n  #node: Node | ChildNode | undefined;\n  #parantNode: any;\n  #value: string;\n  #state: Object = {};\n\n  constructor(node: Node | ChildNode | undefined, parantNode: any) {\n    this.#node = node;\n    this.#value = node?.nodeValue || \"\";\n    this.#parantNode = parantNode;\n    this.#rander(this.#state);\n  }\n\n  update(newState: Object) {\n    const State = { ...this.#state, ...newState };\n\n    if (!isChanged(this.#state, newState)) return;\n\n    this.#rander(State);\n\n    this.#state = State;\n  }\n\n  #rander(newState: Object) {\n    if (!this.#node) return;\n    // const nodeName = this.#node.nodeName;\n    const newValue = this.#value.replace(\n      /\\{\\{(.*?)\\}\\}/g,\n      (_: any, key: String): any => {\n        // @ts-ignore\n        const value = newState[key] || \"\";\n        /* Update */\n        // if (this.#parantNode?.value && nodeName === 'value') this.#parantNode.value = value;\n        // if (this.#parantNode?.checked && nodeName === 'checked') this.#parantNode.checked = value;\n        return value;\n      }\n    );\n\n    if (newValue === this.#node.nodeValue) return;\n    this.#node.nodeValue = newValue;\n  }\n}\n\nconst createStateFullNode = (\n  node: Node | ChildNode | undefined,\n  parantNode?: any\n): StateFullNode => {\n  return new StateFullNode(node, parantNode);\n};\n\nexport default createStateFullNode;\n","// @ts-ignore\nimport { returnElement, QA } from \"../../Utils/DOM.ts\";\n// @ts-ignore\nimport { variable, isChanged, isObject, destroy } from \"../../Utils/helper.ts\";\n// @ts-ignore\nimport createStateFullNode from \"../../Node/index.ts\";\n\nclass Element {\n  #element: HTMLElement | undefined;\n\n  #state: Object = {};\n  #node: Object = {};\n\n  constructor(Element: HTMLElement) {\n    this.#element = Element;\n    this.#node = getDynamicNode(this.#element);\n  }\n\n  /*  Public */\n  public state(newState: Object | null | undefined) {\n    if (isObject(newState)) this.#update(newState);\n    return this.#state;\n  }\n\n  public destory(): void {\n    destroy(this);\n  }\n\n  /* Private Methods */\n  #update(newState: Object) {\n    const State = { ...this.#state, ...newState };\n\n    if (!isChanged(this.#state, newState)) return;\n\n    this.#rander(newState);\n\n    this.#state = State;\n\n    return this;\n  }\n\n  #rander(State: Object) {\n    // @ts-ignore\n    this.#node.forEach(({ node, variables }: INodeData) => {\n      // @ts-ignore\n      let includes: any = variables\n        .map((variable: string) => (State[variable] ? variable : undefined))\n        .filter(Boolean);\n      if (!includes.length) return;\n      // @ts-ignore\n\n      includes = includes\n        // @ts-ignore\n        .map((variable) =>\n          State[variable] !== this.#state[variable] ? variable : undefined\n        )\n        .filter(Boolean);\n\n      if (!includes.length) return;\n\n      includes = includes.reduce((prev: Object, next: string) => {\n        // @ts-ignore\n        prev[next] = State[next];\n        return prev;\n      }, {});\n\n      node.update(includes);\n    });\n  }\n}\n\nconst createElement = (QueryORElement: String | any): Element => {\n  return new Element(returnElement(QueryORElement));\n};\n\nexport default createElement;\n\n/*\n\n\n\n\n\n\n\n\n\n\n\n\n*/\ninterface INodeData {\n  name: string;\n  variables: string[];\n  node: any;\n}\n\nconst getDynamicNode = (element: HTMLElement | any): INodeData[] => {\n  const nodes: INodeData[] = [];\n\n  //  Select Dynamic attr Nodes\n  element.getAttributeNames().forEach((attr: string) => {\n    const attrValue = element.getAttribute(attr);\n    const variables = variable(attrValue);\n\n    if (!variables.length) return;\n    nodes.push({\n      name: \"attr\",\n      variables,\n      node: createStateFullNode(element.getAttributeNode(attr)),\n    });\n  });\n\n  //  Select Dynamic Text Nodes\n  element.childNodes.forEach((textNode: Node) => {\n    if (!textNode.nodeValue) return;\n    const variables = variable(textNode.nodeValue);\n\n    if (!variables.length) return;\n    nodes.push({\n      name: \"element\",\n      variables,\n      node: createStateFullNode(textNode),\n    });\n  });\n\n  return nodes;\n};\n","// @ts-ignore\nimport { returnElement } from \"../../Utils/DOM.ts\";\n// @ts-ignore\nimport Element from \"./Element.ts\";\n// @ts-ignore\nimport { destroy, isObject } from \"../../Utils/helper.ts\";\n\nclass ElementCollection {\n  #elements: Element[] = [];\n\n  constructor(elements: HTMLAllCollection[] | any) {\n    this.#elements = Array.from(elements).map(Element);\n  }\n\n  state(newState): any {\n    if (isObject(newState)) {\n      this.#elements.forEach((Element) => Element.state(newState));\n    }\n    return this.#elements[0].state();\n  }\n\n  destory(): void {\n    this.#elements.forEach((Element) => Element.destory());\n    destroy(this);\n  }\n}\n\nconst createElementCollection = (\n  QueryORElement: String | any\n): ElementCollection => {\n  return new ElementCollection(returnElement(QueryORElement, true));\n};\n\nexport default createElementCollection;\n","// @ts-ignore\nimport Element from \"./Selector/Element/Element.ts\";\n// @ts-ignore\nimport ElementCollection from \"./Selector/Element/ElementCollection.ts\";\n\n// @ts-ignore\ndocument.elementSelector = Element;\n// @ts-ignore\ndocument.elementSelectorAll = ElementCollection;\n// window.element = Element;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(687);\n"],"sourceRoot":""}